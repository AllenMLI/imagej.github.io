= Overview =

In addition to the default Phase Correlation-based pairwise shift determination, we offer some alternative methods and advanced parameterization, as well as non-standard grouping of the views in your dataset.

[[File:BigStitcher_stitch_0.png|center|600px]]

If you want to proceed straight to the next steps after calculating the shifts, we offer the same options under {{bc|Stitching Wizard|Stitch dataset (expert) ...}}

= Advanced pairwise shift calculation =

We currently support three different ways of calculating pairwise shifts.

{{Notice|We strongly advice to try the default '''Phase Correlation''' first, as it tends to give the most robust results in comparison to the more specialized methods below.}}

== Advanced phase correlation ==

First, you will be asked which views to include in the calculation and how to group them. See the [[BigStitcher_Advanced_stitching#Advanced_view_grouping|Advanced view grouping section below]] for details.

Next, you will be asked how to treat grouped views and which downsampling of the images to use. This is the same as in the simple mode, so please look [[BigStitcher_Pairwise_shift#Pairwise_shift_calculation|to the corresponding page]] for details.

Finally, you will be asked for parameters for the actual phase correlation calculation:

*
*
*

== Iterative alignment via Lucas-Kanade algorithm ==

First, you will be asked which views to include in the calculation and how to group them. See the [[BigStitcher_Advanced_stitching#Advanced_view_grouping|Advanced view grouping section below]] for details.

== Interest point-based shift calculation ==

First, you will be asked which views to include in the calculation and how to group them. See the [[BigStitcher_Advanced_stitching#Advanced_view_grouping|Advanced view grouping section below]] for details.

= Advanced view grouping =

In the expert mode of the stitching steps, we offer advanced options for view grouping (in addition to the channel and illumination grouping available via the UI) and batch processing.

In the next two dialogs, you will be asked which views to include in the calculations and how to group them.

* In the first dialog, you can select whether all instances of an attribute or just the currently selected views should be processed. For example, in the example below, we use all Channels, Tiles and Illuminations, but only for the currently selected timepoint and angle.

[[File:BigStitcher_stitch_6.png|center|600px]]

*Select how to process the different attributes. For example, in the figure below, we will ''treat TimePoints and Angles individually'', which means that we will compute shifts between view pairs separately for each time point and angle. Likewise, we ''group Channels and Illuminations'', meaning that we will combine all channels and illumination directions for a tile into one image beforw calculating shifts. Finally, we ''compare'' Tiles, which means that shifts will be calculated between tiles.

[[File:BigStitcher_stitch_8.png|center|600px]]

{{Warning|Theoretically, you can use the second dialog to generate arbitrary groupings of the data, e.g. compare Channels but group Tiles for chromatic shift correction. Not all of these groupings might make sense and not all of them can be properly visualized in the UI (e.g. for ''interactive link preview''). Note that you have to use for the same grouping of the data in the subsequent ''global optimization'' step.}}


Go back to the [[BigStitcher#Documentation|main page]]
