{{Infobox
| name                   = LungJ
| author                 = {{Person|LungJ}}
| maintainer             = {{Person|LWollatz}}
| source                 = {{GitHub|org=LWollatz|repo=LungJ}}
| released               = Nov 1<sup>st</sup>, 2016
| latest version         = 0.4.9, October 28<sup>th</sup>, 2016 (LungJ v0.4.9)
| status                 = stable, new
| category               = [[:Category:Segmentation|Segmentation]], [[:Category:Binary|Binary]],[[:Category:Filtering|Filtering]],[[:Category:Image_annotation|Image annotation]]
}}{{TOC}}

Work in progress...

== Installation ==
1) Help>Update...

2) Manage update sites

3) Add update site

4) Name: LungJ

5) URL: http://sites.imagej.net/LungJ/

6) Close

7) Help>Update...

8) Restart Fiji/ ImageJ to apply changes.

9) A new subdirectory called LungJ appears under Plugins.

10) Future versions of LungJ will be updated together with the normal Fiji plugin updates.

== Function Documentation ==

=== 3D Blocks - Create ===
Plugins > LungJ > 3D Blocks > 3D Blocks - Create

Divides a 3D image into 3D blocks and saves them into a directory along with header information in a txt file.

=== 3D Blocks - Run Macro ===
Plugins > LungJ > 3D Blocks > 3D Blocks - Run Macro

Runs a macro for each 3D block in a directory and saves the resulting image blocks to a new directory.

=== 3D Blocks - Concatenate ===
Plugins > LungJ > 3D Blocks > 3D Blocks - Concatenate

Combines 3D blocks in a directory into a single image.

=== 3D Blocks - Histogram ===
Plugins > LungJ > 3D Blocks > 3D Blocks - Histogram

Opens the blocks of a 3D Blocks image, calculates all the relevant statistics and displays a histogram for all the blocks combined. Optionally saves the statistics to the properties directory.

=== 3D Blocks - Halo Exchange ===
Plugins > LungJ > 3D Blocks > 3D Blocks - Halo Exchange

Exchanges the halos of a 3D Blocks image. This function can be applied between filters. Halos allow the avoidance of boundary errors/ inconsistencies.

=== Test WEKA Filter (Test_WEKA_Filter) ===
Plugins > LungJ > Filter > Test WEKA Filter

Allows to compare WEKA filters visually. Note that the Gabor filter is currently not working.

=== Lipschitz (Lipschitz_) ===
Plugins > LungJ > Filter > Lipschitz

Applies the Lipschitz filter from Trainable_Segmentation/src/main/java/trainableSegmentation/filters/Lipschitz_.java

=== Entropy Filter (Entropy_Filter) ===
Plugins > LungJ > Filter > Entropy Filter

Applies the Entropy filter from
Trainable Segmentation/src/main/java/trainableSegmentation/filters/Entropy Filter.java

=== Membrane Projections (Membrane_Projections) ===
Plugins > LungJ > Filter > Membrane Projections

Applies the Membrane Projections filter from
Trainable Segmentation/src/main/java/trainableSegmentation/FeatureStack.java

=== Neighbors (Neighbors_) ===
Plugins > LungJ > Filter > Neighbors

Applies the Neighbors filter from
Trainable Segmentation/src/main/java/trainableSegmentation/FeatureStack.java

=== Matrix Operation (Matrix_Operation) ===
Plugins > LungJ > Filter > Matrix Operation

Applies a 2D matrix onto an image. Can be used for GUI implementation of non
standard matrix based filters.

=== Label Hyperstack (Label_Hyperstack) ===
Plugins > LungJ > Other > Label Hyperstack

Consistently labels the slices of a hyperstack.

=== Set Calibration (Set_Calibration) ===
Plugins > LungJ > Other > Set Calibration

Allows to set the Calibration of an image, similar to Image > Properties but with pixel value calibration function included.

=== Average ROI Colour (Average_ROI_Colour) ===
Plugins > LungJ > Other > Average ROI Colour

Finds the average value or RGB of active ROIs. The expected value range is overlaid on the histogram of the active image. Error calculations are based on

Keith Dear, "An Online Text in Introductory Statistics." (1999) University of Newcastle, Australia [online]. Was available at http://surfstat.newcastle.edu.au/ and

Hans-Jürgen Andreß "Students T-Verteilung" (2001) [online]. Available at http://psydok.sulb.uni-saarland.de/volltexte/2004/268/html/surfstat/t.htm, last accessed: 22. July 2015.

=== Colour by Segment (Colorize_) ===
Plugins > LungJ > Other > Colour by Segment

Combines a set of segmented images into a colour image.

=== Convert Mask to STL (mask_to_stl) ===
Plugins > LungJ > Other > Convert Mask to STL

Takes a mask and converts and saves it as an STL file using Image Viewer 3D. This is useful if an image should be 3D printed.

=== Compare Masks (Compare_Masks) ===
Plugins > LungJ > Statistics > Compare Masks

Compares two binary masks by combining them into a single colour-coded image. Agreed foreground is white and agreed background black. Foreground detected as background is blue and background detected as foreground red.

=== Compare Map to Mask (Compare_MapMask) ===
Plugins > LungJ > Statistics > Compare Map to Mask

Compares a probability map to a binary masks by combining them into a single colour-coded image. Agreed foreground is white and agreed background black. Foreground detected as background is blue and background detected as foreground red.

=== Apply Weka Classifier (Apply_Weka_Classifier) ===
Plugins > LungJ > Tools > Apply Weka Classifier

Applies a Weka classifier based on the filename of an image and the filename of a classifier model. This implements the whole application process in a single function and does not require loading the original image into memory twice. This function is likely to suffer from updates to the weka-segmentation plug-in.

=== Apply Binary Threshold (Create_Threshold_Mask) ===
Plugins > LungJ > Tools > Apply Binary Threshold

Creates a truly binary mask based on a fixed global threshold.

=== Apply Mask (Apply_Mask) ===
Plugins > LungJ > Tools > Apply Mask

Applies a mask to an image, leaving the foreground as it is and replacing the background by black.

=== Invert Values (Invert_Values) ===
Plugins > LungJ > Tools > Invert Values

LungJ code for inverting the values in an image. This code changes the actual values and mirrors them around the centre between minimum and maximum. Values which exceed the minimum or maximum specified are being cut of at the boundary. The GUI looks up the minimum and maximum value in an image and suggests them as defaults.

=== Fill Holes Manual 3D (Fill_Holes_Manual_3D) ===
Plugins > LungJ > Tools > Fill Holes Manual 3D

Aims to fill holes of a mask. Ideal for filling a mask with many holes in the foreground but only one or few connected background(s).

=== Stretch Histogram (Stretch_Histogram) ===
Plugins > LungJ > Tools > Stretch Histogram

Linearly stretch the values of an image.

=== LungJ Settings (LungJ_Settings) ===
Plugins > LungJ > LungJ Settings

Allows to change standard settings for LungJ. This affects mainly 3D Blocks - Run Macro but also changes the default values for some other functions.

=== Create MCTV Tiles (Create_MCTV_Tiles) ===
Plugins > MCTV > Create MCTV Tiles

Creates jpg tiles and metadata file compatible with MCTV (code doi:10.5258/SOTON/400332
, paper doi:10.1109/eScience.2015.42).
