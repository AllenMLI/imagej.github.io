{{DevelopMenu | tools}}{{Minibox | logo=Travis.png | blurb='''Travis CI:''' Build your code in the cloud!}}[https://travis-ci.org/ Travis] is a tool for [[Project_management#Continuous_integration|continuous integration]]. It has excellent integration with [[GitHub]], and is very useful for automating builds, deployment and other tasks.
{{TOC}}
= Services =

[[ImageJ]] and [[SciJava]] projects use Travis in a variety of ways:

* Perform builds of SciJava projects. Travis deploys <code>SNAPSHOT</code> builds to the [http://maven.imagej.net/ ImageJ Maven repository] in response to pushes to each code repository's <code>master</code> branch. So any downstream projects depending on a version of <code>LATEST</code> for a given component will match the last successful Travis build—i.e., the latest code on <code>master</code>.
* Run each project's associated [[wikipedia:Unit testing|unit tests]]. Travis CI is instrumental in early detection of new bugs introduced to the codebase.
* Perform [[releases]] of [[SciJava]] projects. Travis deploys release builds to the appropriate Maven repository—typically either the ImageJ Maven repository or [https://oss.sonatype.org/ OSS Sonatype].
* Keep the [[javadoc]] site updated.
* Keep other web resources updated.

= Automatic Deployment of Maven Artifacts =

Deploying your library to a [[Maven]] repository makes it available for other developers. It is also a [[Fiji/Contribution_requirements|contribution requirement for the Fiji project]].

== Requirements ==
* Host your [[open-source]] project on [[GitHub]].
* Log in to [https://travis-ci.com/auth Travis CI] with your corresponding GitHub account and enable your repository.
* Contact an ImageJ admin in [[Chat#Gitter|Gitter]] or [http://forum.image.sc/ the Image.sc Forum] and request that they file a PR which adds Travis support to your repository.

== Instructions ==
In order to add Travis CI support to a repository, the SciJava credentials are needed: A) for deploying to Maven repositories; and B) in the case of deploying to OSS Sonatype, for GPG signing of artifacts. If you have a copy of these credentials, and admin access to the relevant repository on GitHub, you can use the [https://github.com/scijava/scijava-scripts/blob/master/travisify.sh travisify.sh script] to perform the needed operations. This script requires the [https://github.com/travis-ci/travis.rb travis command line client] to be installed, and you may need to run <code>travis login</code> to authenticate first. If you need help, please ask [https://forum.image.sc/ on the Image.sc Forum] in the Development category, or in the [https://gitter.im/scijava/scijava-common scijava-common channel] on Gitter.

== Testing things which cannot run headless ==

If your tests require a display (i.e.: they do not pass when run [[headless]]), you can use [[Xvfb]] as follows:
<source lang="yml">
before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 # give xvfb some time to start
</source>
Of course, you should do this only as a last resort, since the best unit tests should not require a display in the first place.

[[Category:Development]]
