{{Infobox
| name                   = MorphoLibJ
| software               = IJPB-plugins
| author                  = David Legland, {{Person|Iarganda}}
| maintainer             = David Legland, {{Person|Iarganda}}
| source                 = {{GitHub|org=ijpb|repo=MorphoLibJ}}
| released               = July 3<sup>rd</sup>, 2014
| latest version         = March 23<sup>rd</sup>, 2015 (MorphoLibJ v1.0.7)
| status                 = stable, active
| category               = [[:Category:Segmentation|Segmentation]], [[:Category:Mathematical_morphology|Mathematical morphology]]
}}

Collection of mathematical morphology methods and plugins for ImageJ, created at INRA-IJPB Modeling and Digital Imaging lab.

The library implements several functionalities that were missing in ImageJ, and that were not or only partially covered by other plugins. Namely:

* '''Morphological filtering''': erosion & dilation, closing & opening, morphological gradient & Laplacian, top-hat...

* '''Morphological reconstruction''', allowing fast detection of regional or extended extrema, removing of borders, or hole filling

* '''Watershed segmentation''' + GUI, making it possible to segment 2D/3D images of cell tissues

* '''2D/3D measurements''': volume, surface area, inertia ellipse/ellipsoid...

* '''Binary / label images utilities''' for removing or keeping largest connected component, perform size opening, fill holes, kill borders...

== Morphological filters ==
[[Image:MorphoLibJ-binary-dilation-erosion.png|right|thumb|400px|Some example of morphological filters. From left to right: original image (black over white), result of dilation, result of erosion.]] [[Image:MorphoLibJ-binary-gradient-close-open.png|right|thumb|400px|Some example of composed morphological filters. From left to right: result of morphological gradient, result of morphological closing, result of morphological opening.]] Morphological filters consider the neighborhood of each pixel/voxel according to a structuring element of a given size and shape.

The following filters are '''implemented both for 2D and 3D image'''s, and work for binary as well as grey level images:

* '''erosion''' keeps the minimum value within the neighborhood defined by the structuring element.

* '''dilation''' keeps the maximum value within the neighborhood defined by the structuring element.

* '''closing''' consists in the succession of a dilation with an erosion. Morphological closing makes dark structures smaller than the structuring element disappear.

* '''opening''' consists in the succession of an erosion with a dilation. Morphological opening makes bright structures smaller than the structuring element disappear.

* '''morphological gradient''' is defined as the difference of a morphological dilation and a morphological erosion with the same structuring element, and enhances edges of the original images.

* '''morphological Laplacien''' is defined as half the sum of a morphological dilation and a morphological erosion with the same structuring element, minus the original image, and enhances edges of the image.

* '''black top-hat''' consists in subtracting the original image from the result of a morphological closing, and results in the enhancement of dark structures smaller than structuring element.

* '''white top-hat''' consists in subtracting the result of a morphological opening from the original image, and results in the enhancement of bright structures smaller than structuring element.

The following structuring elements can be used for 2D images:

* disk 
* square
* octagon
* diamond
* line with angle of 0, 90, 45 or 135 degrees

For 3D images, the same structuring elements can be used (the operation is simply repeated on each slice), as well as a cubic structuring element.

== Installation ==

* In ImageJ, download the [https://github.com/ijpb/MorphoLibJ/releases latest released jar] into the ''plugins'' folder.

* In Fiji, you just need to [[How_to_follow_a_3rd_party_update_site#Add_update_sites | add]] the IJPB-plugins site to your list of update sites:

::: 1) Select {{bc | Help | Update...}} from the Fiji menu to start the updater.

::: 2) Click on ''Manage update sites''. This brings up a dialog where you can activate additional update sites.

::: 3) Activate the IJPB-plugins update site and close the dialog. Now you should see an additional jar file for download.

::: 4) Click ''Apply changes'' and restart Fiji.

== Documentation ==

The main source code directory is on GitHub under [http://github.com/ijpb/MorphoLibJ/tree/master/src/main/java/inra/ijpb src/main/java/inra/ijpb].

You can browse the [http://ijpb.github.io/MorphoLibJ/javadoc/ javadoc] for more information about its API.

[[Category:Segmentation]]
[[Category:Mathematical_morphology]]
