{{BigNotice | See [[:Category:Deconvolution]] for pages about deconvolution.}}
__FORCETOC__ {{Cookbook}}{{Learn}}[[wikipedia:Deconvolution|Deconvolution]] is an algorithm-based process used to reverse the effects of convolution on recorded data.

== Introduction ==

These two plugins from Bob Dougherty are used together to generate a stack of the point-spread function (PSF). The Iterative Deconvolution 3D plugin uses this PSF image stack along with a stack of your sample images. The image below is a single slice taken from a stack before and after deconvolution using these plugins. 

[[File:deconvoluted_data.png]]

''See the plugins' homepages for more details:'' [http://www.optinav.com/Diffraction-PSF-3D.htm Diffraction PSF 3D] & [http://www.optinav.com/Iterative-Deconvolve-3D.htm Iterative Deconvolution 3D]
 
== Generating a PSF image stack ==

The Diffraction PSF 3D plugin can be used to generate theoretical PSFs assuming they arise only from diffraction. These PSFs may be used with other deconvolution plugins later.

To use, run the "Diffraction PSF 3D" plugin. A dialog will appear; most of the fields are self explanatory. The width, height and depth values are for the PSF image, not your image stack. The desired values will need to be empirically determined.

[[File:diffraction_psf_window1.png|377x317px]]

== Iterative deconvolution ==

Run the Iterative Deconvolve 3D plugin, then select the image and PSF. Start with the default values and set iterations to 10 initially. Be careful not to represent the PSF with a stack or the plugin will run out of memory and terminate.

[[File:iterative_deconvolve_window.png|411x272px]]

== An interactive Convolution / Deconvolution / Contrast Restoration demo in ImageJ ==

For an educational interactive ImageJ javascript demo of convolution, inverse filtering and image contrast restoration by iterative constrained deconvolution, see this [https://github.com/chalkie666/imagejMacros/blob/master/DeconvolutionDemos/Convolution_Deconvolution_Demo.js Convolution / Deconvolution / Contrast Restoration demo script] 

== Video presentations ==
<div style="float: left; padding-right: 1em">{{#widget:Vimeo|id=140098821|caption=Flexible deconvolution using ImageJ Ops (Brian Northan)}} [https://imagej.github.io/presentations/2015-09-04-imagej2-deconvolution/ [slides]]</div>
<div style="float: left">{{#widget:Vimeo|id=140098826|caption=Real-time multi-view deconvolution of time-lapse data on the GPU (Bene Schmid)}}</div>
{{Clear|left}}
[[Category:Cookbook]]
[[Category:Tutorials]]
