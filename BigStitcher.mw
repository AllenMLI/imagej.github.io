{{Infobox Plugin
| software               = BigStitcher
| name                   = BigStitcher
| author                 = {{Person|StephanPreibisch}} & {{Person|hoerldavid}}
| maintainer             = {{Person|StephanPreibisch}} & {{Person|hoerldavid}}
| source                 = {{GitHub|org=PreibischLab|repo=BigStitcher}}
| status                 = beta
}}

== Introduction & Overview ==

The BigStitcher is a software package that allows simple and efficient alignment of multi-tile and multi-angle image datasets, for example acquired by lightsheet, widefield or confocal microscopes. The software supports images of almost arbitrary size ranging from very small images up to volumes in the range of many terabytes, which are for example produced when acquiring cleared tissue samples with lightsheet microscopy. 

As its predecessor, the [[Image Stitching]], the BigStitcher can run in fully automatically mode but is additionally able to guide the user through the alignment process by interactively showing intermediate results with the option for user interaction, which includes interactive setup of approximate tile locations. The BigStitcher is fully integrated with the [[BigDataViewer]] and is thus able to interactively display and process the input images independent of their size. An improved global optimization is now able to efficiently align sparsely connected datasets, where image content is separated by large areas of almost constant background.

Specifically intended for lightsheet acquisitions of cleared samples (e.g. by CLARITY), the BigStitcher offers several features:
* Registration of multi-view multi-tile acquisitions, where each view of the sample that is acquired from different orientations may consist of many individual image tiles.
* Integrated downstream processing of the data such fusion and deconvolution of the aligned data at different resolution levels (full or reduced resolutions) and for selected areas (full image or selected parts)
* Since cleared samples are typically acquired by a lightsheet microscope that can illuminate from different directions, the BigStitcher supports a pre-selection of the best illumination direction at every image block in the sample
* Support of non-regular acquisition grids, which includes 'intelligent acquisitions' where some of the image blocks can be missing if only background is present
* Support of image data acquired at different resolutions to combine overview scans with high resolution acquisitions of specific areas of interest 

[[File:BigStitcherTitle-1.jpg|center|1000px|frame|Illustrates an example of an interactive view of a single-view multi-tile dataset with irregular tiling acquired by lightsheet microscopy. Each tile of size 1920x1920x1000 pixels is depicted in a random color.]]
== Download ==

A '''beta'''-Version of BigStitcher is available via the Fiji Updater. Just go to {{bc | Help | Update...}}, click <code>Manage update sites</code> and select <code>BigStitcher</code> in the list. After applying the changes and restarting Fiji, BigStitcher will be available under {{bc | Plugins | BigStitcher | BigStitcher}}.

The source code is available {{GitHub|org=PreibischLab|repo=BigStitcher}}, please also report feature requests & bugs there.

== Documentation ==

'''The workflow of the BigStitcher consists of multiple steps covering import, visualisation, processing, and output that are explained in full detail under the respective pages linked below:'''

=== Opening / Importing an Image Dataset ===

Since image data is produced in a variety of formats, the first step is to assemble all images into a dataset and load the necessary metadata or manually define it if it is missing. The BigStitcher is integrated with the [[BigDataViewer]] and thus shares the same data representation, which is stored as a XML file on disk. 

* [[BigStitcher_Define_new_dataset|Defining a new dataset]]

Once a dataset was defined and the XML file was saved, you can quickly load any dataset

* [[BigStitcher_Open_existing|Opening an existing dataset]]

=== UI Overview ===

*[[BigStitcher_Stitching_Mode|Stitching mode]]

*[[BigStitcher_MultiView_Mode|MultiView mode]]

=== Pre-alignment ===

*Inspect data using BigDataViewer

*[[BigStitcher_Select_illumination|Illumination selection]]

=== Stitching ===

*[[BigStitcher_Pairwise_shift|Pairwise shift calculation]]

*[[BigStitcher_Preview_Pairwise_shift|Previewing and filtering pairwise shifts]]

*[[BigStitcher_Global_optimization|Global optimization]]

=== MultiView registration===

*Manual translation

*[[BigStitcher_Interest_points|Interest point detection]]

*[[BigStitcher_Registration|Registration using interest points]]

=== '''Fusion''' ===
In order to fuse the aligned data into a "classical image" and for example save it as TIFF, it is necessary to define the area that should be fused. This is done by defining a '''Bounding Box'''. By default, the software will always ''pre-compute two Bounding Boxes'' covering ''(a) the area covered by all views'' and ''(b) the area covered by the currently selected views''. This means that only if you want to specify a certain (sub)area, for example because there are a lot of empty pixels around your imaged object you need to define a bounding box. To really minimize the fused area, might also want to first [[BigStitcher_ReorientSample|re-orient your sample]] first. More details on Bounding Boxes can be found here:

*[[BigStitcher_BoundingBox|Bounding Box Definition]]

Once you decided to fuse everything or defined a specific bounding box, you can start the fusion process. If you want to check how the fused area will look like, you can do a '''quick preview''' by for example choosing {{bc | Quick Display Transformed/Fused Image | All Views [978 x 1428 x 173 px] | Downsampled 4x}}. This will immediately pop up an ''ImageJ Virtual Stack'' (browsing is somewhat slow) containing a fusion of all selected views 4x downsampled (multiple channels or illuminations will be fused together). 

*[[BigStitcher_Fuse|Fuse & Export]]
