{{Infobox
| software               = Fiji
| name                   = Microscope Measurement Tools
| author                 = [[User:Demis | Demis D. John]]
| maintainer             = Demis D. John ([mailto:demis.john@gmail.com demis.john@gmail.com])
| filename               = [https://github.com/demisjohn/Microscope-Measurement-Tools/archive/v1.1.zip Microscope Measurement Tools v1.1.zip]
| source                 = {{GitHub|org=demisjohn|repo=Microscope-Measurement-Tools}}
| released               = June 11<sup>th</sup>, 2015
| latest version         = 1.1
| status                 = beta
| website                = [https://github.com/demisjohn/Microscope-Measurement-Tools Microscope Measurement Tools at GitHub]
}}
Recall saved calibrations for your microscope's measurement scale and create measurement annotations.

[[Category:Plugins]]
[[Category:Registration]]

== Description ==
This set of plugins provides a quick way to save measurement calibrations for various microscopes/objectives in a simple text file.

You can then choose any of your prior calibrations to be applied to an open image (or all open images), as so:
[[File:Microscope_Meas_Tools_-_Choose_Calibration_01.png]]
  
The "Draw Measurement" plugin then allows you to annotate a line ROI with the calibrated measurement length, as so:
[[File:Microscope_Meas_Tools_-_Draw_Meas_Line.png]]


Three files are included:

* ''Choose_Microscope_Calibration.py''
** Opens the "Choose Calibration" window, for setting the measurement scale to a preconfigured value.
* ''Draw_Measurement_-_Line.py''
** Converts a Line ROI into a drawn annotation with the measurement length indicated.
* ''Microscope_Calibrations_user_settings.py''
** Settings file that contains your pre-configured scale calibrations, along with some settings for drawing annotations (background/text color etc.)

== Installation & Usage Manual ==
Please see the complete installation & usage instructions here: 

: [https://github.com/demisjohn/Microscope-Measurement-Tools/blob/master/Microscope%20Meas.%20-%20Calibration%20instructions.pdf '''Microscope Meas. - Calibration instructions.pdf''']

Basic instructions are as follows.

1. Extract the .zip file linked at [https://github.com/demisjohn/Microscope-Measurement-Tools/releases GitHub/Releases], and place the resulting ''Analysis'' folder inside

: ''Fiji.app / Plugins / Scripts''

: (If an ''Analysis'' folder already exists, do Not overwrite it - you must have another Analysis plugin installed!  Instead, merge the two folders.


=== Setting up your calibrations ===

2. Open an image with a feature of some known length, taken with some microscope/objective that you desire to save a calibration for.

3. Draw a line along the feature of known length.

4. Select the ''Analyze > Set Scale'' menu item.

5. Type in the known length in "''Known Distance''" and record the "'''Scale'''" value for this calibration. 

: Perform more calibrations (on other images) if desired, recording the Scale values for each.

6. Edit the File 

: ''Fiji.app / plugins / Scripts / Analyze / Microscope Measurement Tools /

:: '''Microscope_Calibrations_user_settings.py'''''

7. Type in the Calibration's Names & Scale values, making sure to match up the list of names with their corresponding calibrations.

: This settings file is an actual python script, so you can edit the lists there using normal Python syntax. eg. functions like `myList.append( [ ] )` or `myList = ['cm'] * 5` etc. will work.


Unfortunately, changes to the settings file may not be automatically picked up by Fiji.
The workaround is to do the following:

8. Quit Fiji.

9. Delete the "''py.class''" file in the pluginâ€™s folder:

: ''Fiji.app / plugins / Scripts / Analyze / Microscope Measurement Tools /
Microscope_Calibrations_user_settings$py.class''

10. Open Fiji. It should have picked up the new settings now.

You should only have to do this calibration once, when you do your initial calibration/setup.

=== Applying a pre-configured scale to your image ===

11. Run ''Analyze > Microscope Measurement Tools > Choose Microscope Calibration'' - the pop-up window shows the new names and calibration values you set in your user-settings file.


=== Annotating your image with a length measurement ===

To draw a measurement annotation, 

1. Draw a "Straight Line" along the feature you want to measure (the length is displayed in the FIJI status bar)

2. Select ''Analyze > Microscope Measurement Tools > Draw Annotation - Line''.

: The annotation will be drawn directly onto the image.
: It is recommended that you work on a copy of your file.  Unfortunately there is currently no Undo feature.  I may try to figure out ho to use the "Overlay" feature to make something like that possible.

== Author(s) ==
This simple python (jython) plugin was created by [mailto:demis.john@gmail.com Demis D. John], 2015.

I used the following plugins as inspiration: [[Correct_3D_drift]] and [http://rsb.info.nih.gov/ij/plugins/microscope-scale.html Microscope Scale] (which sadly is no longer easily customizable).

The Line Annotation is pretty crude - I would love it if someone made that more flexible and user-friendly (eg. erase an annotation or undo an annotation) - possibly using the "overlay" option?

Please feel free to add other measurement annotation plugins!
