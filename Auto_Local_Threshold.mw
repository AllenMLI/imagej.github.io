{{Infobox Plugin
| software               = ImageJ
| name                   = Auto Local Threshold
| author                 = Gabriel Landini, plus others (see below)
| maintainer             = Gabriel Landini (G.Landini at bham. ac. uk)
| filename               = included in Auto_Threshold.jar
| source                 = (1 file)
| latest version         = v1.7 (14 April 2009)
| status                 = active 
}}

== Purpose ==
This plugin binarises 8-bit images using various global (histogram-derived) thresholding methods.


== Installation ==
'''ImageJ''': requires v1.42m or newer. Copy the Auto_Threshold.jar file from http://www.dentistry.bham.ac.uk/landinig/software/auto_threshold.jar into the ImageJ/Plugins folder and either restart ImageJ or run the '''Help>Update Menus''' command. After this a new command should appear in '''Image>Adjust>Auto Local Threshold'''.

'''Fiji''': this plugin is part of the Fiji distribution, there is no need to download it.

== Use ==
'''Method''' selects the algorithm to be applied (detailed below).

The '''radius''' sets the radius of the local domain over which the threshold will be computed,


'''White object on black background''' sets to white the pixels with values above the threshold value (otherwise, it sets to white the values less or equal to the threshold).

'''Special parameters 1 and 2''' sets specific values for each method. Those are detailed below for each method.

It you are processing a stack, one additional options is available: '''Stack''' can be used to process all the slices.


== Available methods ==

=== Try all ===
Which method segments your data best? You can attempt to answer this question using the '''Try all''' option.
This produces a montage with results from all the methods, so one can explore how the different algorithms perform on an image or stack.

[[Image:Epith.png]]

Original image


[[Image:Epithm.png]]

Try all methods.

When processing stacks with many slices, the montages can become very large (several times the original stack size) and one risks running out of ram. A popup window will appear (when stacks have more than 25 slices) to confirm whether the procedure should display the stack montages.

=== Bernsen ===
Implements Bernsen's thresholding method.  Note that this implementation uses circular windows instead of rectangular in the original.

'''Parameter 1''': is the ''contrast threshold''. The default value is 15. Any number different than 0 will change the value.

'''Parameter 2''': not used, ignored. 

The method uses a user-provided contrast threshold. If the local contrast (max-min within the radius of the pixel) is smaller than the contrast threshold, the pixel is labelled
can be found in Venkateswarluh and Boyle.
The threshold is set at the midgrey value (the mean of the minimum and maximum grey values in the local
window). If the ''local contrast'' (max-min) is below a certain ''contrast threshold'' the neighbourhood is considered to consist only of one class.

 if ( local_contrast < contrast_threshold )
  pixel = ( mid_gray >= 128 ) ? object :  background
 else
  pixel = (pixel >= mid_gray ) ? object : background


* {{Citation
| last = Bernsen
| first = J
| year = 1986
| journal = Proc. of the 8th Int. Conf. on Pattern Recognition
| title = Dynamic Thresholding of Grey-Level Images
}}

* {{Citation
| last = Sezgin
| first = M
| last2 = Sankur
| first2 = B
| year = 2004
| journal = Journal of Electronic Imaging
| title = Survey over Image Thresholding Techniques and Quantitative Performance Evaluation
| volume = 13(1)
| pages = 146-165
| url = http://citeseer.ist.psu.edu/sezgin04survey.html
}}

Based on ME Celebi's fourier_0.8 routines [http://sourceforge.net/projects/fourier-ipal] and [http://www.lsus.edu/faculty/~ecelebi/fourier.htm].


=== Mean ===
This selects the threshold as the mean of the local greyscale distribution. A variation of this method uses the mean - C, where C is a constant.

'''Parameter 1''': is the ''C value''. The default value is 0. Any other number will change its value.

'''Parameter 2''': not used, ignored. 

=== Median ===
This selects the threshold as the median of the local greyscale distribution. A variation of this method uses the median - C, where C is a constant.

'''Parameter 1''': is the ''C value''. The default value is 0. Any other number will change its value.

'''Parameter 2''': not used, ignored. 


=== MidGrey ===
This selects the threshold as the mid-grey of the local greyscale distribution (i.e. (max + min)/2. A variation of this method uses the median - C, where C is a constant.

'''Parameter 1''': is the ''C value''. The default value is 0. Any other number will change its value.

'''Parameter 2''': not used, ignored. 




=== Niblack ===
Implements Kapur-Sahoo-Wong (Maximum Entropy) thresholding method:

* {{Citation
| last = Kapur
| first = JN
| last2 = Sahoo
| first2 = PK
| last3 = Wong
| first3 = ACK
| year = 1985
| journal = Graphical Models and Image Processing
| title = A New Method for Gray-Level Picture Thresholding Using the Entropy of the Histogram
| volume = 29(3)
| pages = 273-285
}}

Ported from ME Celebi's fourier_0.8 routines [http://sourceforge.net/projects/fourier-ipal] and [http://www.lsus.edu/faculty/~ecelebi/fourier.htm].


=== Mean ===
Uses the mean of grey levels as the trhreshold. It is used by some other methods as a first guess threshold.

* {{Citation
| last = Glasbey
| first = CA
| year = 1993
| journal = CVGIP: Graphical Models and Image Processing
| title = An analysis of histogram-based thresholding algorithms
| volume = 55
| pages = 532-537
}}





[[Category:Plugins]]
[[Category:Segmentation]]
