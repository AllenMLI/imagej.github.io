{{Learn | techniques}}

== What is Registration? ==

[[wikipedia:Image registration|Image registration]] is the process of transforming different sets of image data into one coordinate system. Image data may be multiple photographs, data from different sensors, times, depths, or viewpoints. It is used in computer vision, medical imaging, biological imaging and brain mapping, military automatic target recognition, and compiling and analyzing images and data from satellites. Registration is necessary in order to be able to compare or integrate the data obtained from these different measurements.

Essentially, image registration is used to align two or more images of the same scene.  The transformation function, the method for modifying the spatial relationship between pixels, needs to be estimated/modeled in order to register the two images.  The input image is the image that will be transformed, and the reference image is the one against which the input is registered.  Geometric distortions causing differences in angle, orientation, shifting, and distance need to be taken into account.  One of the most common methods to do image registration uses ''points'' that correspond to locations known in both the input and reference images.  Tools exist in ImageJ that can automatically detect such ''correspondence points'' to then estimate the transformation function.

== Recommended ImageJ Plugins for Registration ==

Here we summarize some of the Registration plugins in ImageJ. 

{| class="wikitable"
|-
|'''Plugin Name'''
|'''Short Description'''
|'''Highlights'''
|'''Plugin Snapshot'''
|-
|[https://imagej.net/Feature_Extraction Feature Extraction]
|A tool for identifying a set of corresponding points of interest in two images
|
* Interest points are detected using the Difference of Gaussian detector
* Uses the [https://en.wikipedia.org/wiki/Scale-invariant_feature_transform Scale Invariant Feature Transform (SIFT)] and [http://matthewalunbrown.com/papers/cvpr05.pdf Multi-Scale Oriented Patches (MOPS)] for local feature description
* Established matches are filtered using the [https://en.wikipedia.org/wiki/Random_sample_consensus Random Sample Consensus (RANSAC)]
* The extracted sets of corresponding landmarks and the calculated transformations are used in [https://imagej.net/TrakEM2 TrakEM2], [https://imagej.net/Register_Virtual_Stack_Slices Register Virtual Stack Slices] and [https://imagej.net/BUnwarpJ BUnwarpJ] for image registration.
|[[File:Tem-42-33-f.png|500px]] MOPS feature correspondences (example 1)
|-
|[https://imagej.net/Linear_Stack_Alignment_with_SIFT Linear Stack Alignment with SIFT]
|A tool for aligning image stacks
|
* A lightweight SIFT-implementation for Java after the paper of David Lowe<ref>{{cite journal |author=Lowe D | title=Distinctive Image Features from Scale-Invariant Keypoints | journal=International Journal of Computer Vision | year=2004 | volume=60 | number=2 | pages=91-110}}</ref>.
|
|-
|[https://imagej.net/BUnwarpJ BUnwarpJ]
|A tool for elastic and consistent image registration
|
* Performs 2D image registration based on elastic deformations represented by B-splines
* Invertibility of the deformations is enforced through a consistency restriction
* Get started with the detailed [https://imagej.net/BUnwarpJ#User_Manual BUnwarpJ user manual]
|[[File:BUnwarpJ_scheme.png|500px]]
|-
|[https://imagej.net/TrakEM2 TrakEM2]
|A tool for morphological data mining, three-dimensional modeling and image stitching, '''registration''', editing and annotation
|
* Registers floating image tiles to each other using SIFT and global optimization algorithms.
* See the [https://www.ini.uzh.ch/~acardona/trakem2_manual.html#registration TrakEM2 sser manual section on registration]
|[[File:Trakem2-snap.jpg|500px]]
|-
|[https://imagej.net/Register_Virtual_Stack_Slices Register Virtual Stack Slices]
|A tool that takes a sequence of image slices stored in a folder and delivers a list of registered image slices
|
* The plugin can perform 6 types of image registration techniques: Translation, Rigid (translation + rotation), Similarity (translation + rotation + isotropic scaling), Affine, Elastic (via [https://imagej.net/BUnwarpJ BUnwarpJ] with cubic B-splines), and Moving least squares
* All models are aided by automatically extracted [https://imagej.net/Feature_Extraction SIFT features]
|[[File:Rvs_scheme.png|500px]]
|-
|[https://imagej.net/Fijiyama Fijiyama]
|A registration tool for 3D multimodal time-lapse imaging
|
* User-friendly, generic and versatile
* Headache-free: settings auto-adjust
* Movie tutorials and example datasets
* Automatic 3D registration (two algorithms available)
* Manual registration (using the [https://imagej.net3D_Viewer 3D_Viewer])
* Limitations: should be avoided for big datasets (more than 15 time points or 1GB+).
* Transformations: linear or non-linear
* Tested on specimens: human, vine trunk, 
* Tested on modalities: MRI, X-ray CT, Photograph
|[[File:Fiji_main_results.jpg|500px]]
|}

== Other pages and tools for Registration in ImageJ ==

See [https://imagej.net/Category:Registration Category:Registration] for other ImageJ pages and tools about image registration.
