---
autogenerated: true
title: Particle Analysis
breadcrumb: Particle Analysis
layout: page
author: test author
categories: Cookbook,Tutorials
description: test description
---

\_\_FORCETOC\_\_ 

## Automatic Particle counting

Automatic particle counting can be done if the image does not have too
many individual particles touching. Manual particle counting can be done
using the [Multi-point
Tool](https://imagej.net/docs/guide/146-19.html#sec:Multi-point-Tool).

[Segmentation](Segmentation "wikilink"), or the ability to distinguish
an object from its background, can be a difficult issue to deal with.
Once this has been done, however, the object can then be analyzed.

**RAW Threshold Watershed “AnalyzeParticles”**
![266\*177px](Raw_Threshold_Watershed_AnalyzeParticles2.jpg "266*177px")

### Setting a threshold

**5.1.1.1 Manual thresholding**

Automatic particle analysis requires a “binary”, black and white, image.
A threshold range is set to tell the objects of interest apart from the
background. All pixels in the image whose values lie under the threshold
are converted to black and all pixels with values above the threshold
are converted to white, or vice-versa.

|                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ![black\_white\_threshold.png](black_white_threshold.png "black_white_threshold.png") | There are several ways to set thresholds. Monochrome images are most simply thresholded via the menu command . The threshold can be set using the slider bars. The pixels within the threshold range are displayed in red. When you are satisfied with the threshold settings, you can then hit *Apply*. This will permanently apply the threshold settings and convert the image to binary. You have different options for setting a manual threshold. The drop-down menu set to *Default* allows you to choose between *Default* and 15 other threshold techniques. The drop-down menu set to *Red* allows you to choose between a red on white color scheme, a black on white color scheme, or an over and under color scheme. The *Dark Background* box will flip the foreground color with the background color. You can also choose to check the Stack histogram box to produce a histogram for an entire stack. |

![color\_thresholding\_manual\_threshold2.png](color_thresholding_manual_threshold2.png
"color_thresholding_manual_threshold2.png") For color images, setting
the threshold is done with the command sequence . The *Thresholding
method* option allows you to choose a thresholding techniqe other than
the default. The *Threshold color* option allows you to choose between
Red, White, Black, or B\&W as the thresholding color. The *Color space*
option allows you to choose between HSB, RGB, Lab, and YUV. The
background of the thresholded image can be made light or dark. The image
can be converted to a binary image via the menu command .

**Automatic thresholding**

There are many algorithms you can use to calculate the threshold without
introducing user-bias. An evaluation of over 40 of these can be found in
this paper:

  - ().

Fiji has several plugins found in the menu  for automatic calculation of
an image threshold. These include Otsu's thresholding, maximum entropy
threshold, and mixture modelling thresholding. For a complete list of
the methods available with Fiji see the Plugins section located in the
Documentation section under the Content tab at the top of this page.

![automatic\_thresholding\_5.1.1.2.jpg](automatic_thresholding_5.1.1.2.jpg
"automatic_thresholding_5.1.1.2.jpg")

### Watershed separation

Overlapping objects in a binary image can be separated using the menu
command .

First convert the image to binary by thresholding. The black pixels are
then replaced with grey pixels of an intensity proportional to their
distance from a white pixel. Black pixels closer to the edge are lighter
than black pixels that are more central. This is the Euclidian distance
map (EDM) of the black area. From this the centers of the objects are
calculated. These are the ultimate eroded points (UEPs) of each black
area meaning they are equidistant from each edge. These points are then
dilated until they touch another black pixel. This meeting point is
where a watershed line is drawn.

### Analyze Particles

To analyze the particles in a segmented image, use the menu command .
This will provide you with information about each particle in the
image.![|right](analyze_particles_screenshot.png "|right").

Set the minimum size and maximum pixel area size to exclude anything
that is not an object of interest in the image. Roundness values between
0.0 and 1.0 can also be selected to help exclude unwanted objects.
Select the *Show: Outlines* option to display an image of the detected
objects. The *Show* drop-down menu also allows the user to show Nothing,
Bare Outlines, Ellipses, Masks, Count Masks, Overlay Outlines, and
Overlay Masks. The user can choose whether to *Display results*, *Clear
Results*, *Summarize*, *Add to Manager*, *Exclude on edges*, *Include
holes*, *Record starts*, and/or *In situ Show*.

The particle analysis can be automated via plugins or macros once the
correct threshold value and particle size range has been determined for
your objects of interest.

### Nucleus Counter

This plugin automates many of the steps discussed above.

1.  Enter the size range to be
    counted![nucleus\_counter\_1.jpg](nucleus_counter_1.jpg
    "nucleus_counter_1.jpg").
2.  Select the automatic thresholding method. This can be either
    *Current*, *Otsu*, Maximum Entropy'', *Mixture Modelling* or
    *k-means* clustering. *Current* uses the threshold that has been set
    manually, see above.
3.  Perform a background correction.
4.  Use a *Smooth* filter.
5.  Perform a watershed separation.
6.  Add the particles to the ROI manager.
7.  Say yes to a summary.

Other options can easily be added on request.

The count, area, and average size are returned as a text window and the
outlined particles are overlaid on a duplicate of the original image.

![nucleus\_counter\_2.jpg](nucleus_counter_2.jpg
"nucleus_counter_2.jpg")

## Manual Counting

You can use the built-in [Multi-point
Tool](https://imagej.net/docs/guide/146-19.html#sec:Multi-point-Tool) to
manually count particles.

## Particle tracking

**Particle Tracker** Particle Tracker is a 2D feature point-tracking
plugin for the automated detection and analysis of particle trajectories
as recorded by video imaging in cell biology. The algorithm is decsribed
in Sbalzarini and Koumoutsakos (2005\[1\]).

**TrackMate** Use the menu command . This plugin allows you to perform
single particle tracking of spot-like structures. For more in-depth
information, see the [TrackMate tutorial and
explanation](TrackMate "wikilink").

**Manual Tracking** Use the menu command . This tool allows you to keep
track of the movement of a cell.

[Category:Cookbook](Category:Cookbook "wikilink")
[Category:Tutorials](Category:Tutorials "wikilink")
