[[Image:Challenge-ISBI-2012-sample-image.png|thumb|500px|Example of ssTEM image and its corresponding segmentation]]In this '''challenge''', a full stack of EM slices will be used to train [http://en.wikipedia.org/wiki/Machine_learning machine learning] algorithms for the purpose of automatic segmentation of neural structures. 


The images are representative of actual images in the real-world, containing some noise and small image alignment errors. None of these problems led to any difficulties in the manual labeling of each element in the image stack by an expert human neuroanatomist. The aim of the challenge is to compare and rank the different competing methods based on their pixel and object classification accuracy.



==Relevant dates==
* '''Deadline for submitting results''': February 1<sup>st</sup>, 2012

* '''Notification of the evaluation''': February 21<sup>st</sup>, 2012

* '''Deadline for submitting abstracts''': March 1<sup>st</sup>, 2012

* '''Notification of acceptance/presentation type''': March 15<sup>th</sup>, 2012

==How to participate==
'''Everybody''' can participate in the challenge. The only requirement consists of filling up the registration form [http://brainiac.mit.edu/isbi2012/ here] to get a user name and password to download the data and upload the results.

The best ranked methods will be presented a the workshop previous to the [http://www.biomedicalimaging.org/ IEEE International Symposium on Biomedical Imaging (ISBI) 2012]

If you have any doubt regarding the challenge, please, do not hesitate to contact the [[Segmentation_of_neuronal_structures_in_EM_stacks_challenge_-_ISBI_2012#Organizers|organizers]].

==Training data==
[[Image:Challenge-ISBI-2012-Animation-Input-Labels.gif|thumb|400px|Input training data and corresponding labels]]
The training data is a set of 30 sections from a serial section Transmission Electron Microscopy (ssTEM) data set of the Drosophila first instar larva ventral nerve cord (VNC). The microcube measures 2 x 2 x 1.5 microns approx., with a resolution of 4x4x50 nm/pixel.

The corresponding binary labels are provided in an in-out fashion, i.e. white for the pixels of segmented objects and black for the rest of pixels (which correspond mostly to membranes).

'''To get the training data, please, register in the [http://brainiac.mit.edu/isbi2012/ challenge server], log in and go to the "Downloads" section'''.

==Test data==
The contesting segmentation methods will be ranked by their performance on a test dataset, also available in the [http://brainiac.mit.edu/isbi2012/ challenge server], after registration.

The test data is another volume from the same Drosophila first instar larva VNC.

==Evaluation metrics==
In order to evaluate and rank the performances of the participant methods, we will use topology-based segmentation metrics, together with the pixel error. Each metric will have an updated leader-board. 

The metric are:

* [[Topology preserving warping error|Warping error]], a segmentation metric that tolerates disagreements over boundary location and penalizes topological disagreements.
* [[Topology_preserving_warping_error#Pixel_error|Pixel error]], or squared Euclidean distance between the original and the result labels.

===Script===
To evaluate the performance of your segmentation method you can use the [[Beanshell_Scripting|Beanshell script]] described below within Fiji. Just copy/paste it in the [[Script Editor]] or save it in a .bsh file and run it (File > Open):

<source lang=java>
/**
 * Script to calculate the pixel and warping error between
 * some 2D original labels and their corresponding proposed 
 * labels
 * 
 * @author Ignacio Arganda-Carreras (iarganda@mit.edu)
 */

import trainableSegmentation.*;

// Get the list of images that are open
ids = WindowManager.getIDList();

if ( ids == null || ids.length < 2 )
{
	IJ.showMessage( "You should have at least two images open." );
	return;
}

// Get all the titles of the open images		
titles = new String[ ids.length ];
for ( int i = 0; i < ids.length; ++i )
{
	titles[ i ] = ( WindowManager.getImage( ids[ i ] ) ).getTitle();
}

// Create dialog		
gd = new GenericDialog( "Evaluate segmentation results" );
		
gd.addMessage( "Image Selection:" );
current = WindowManager.getCurrentImage().getTitle();
gd.addChoice( "Original_labels", titles, current );
gd.addChoice( "Proposal", titles, current.equals( titles[ 0 ] ) ? titles[ 1 ] : titles[ 0 ] );
		
gd.addMessage( "Segmentation error metrics:" );
gd.addCheckbox( "Pixel_error", true );
gd.addCheckbox( "Warping_error", true );

gd.addMessage( "Parameters:" );
gd.addNumericField( "Binary_threshold:", 0.5, 2 );
gd.showDialog();
		
if (gd.wasCanceled()) 
	return;
		
originalLabels = WindowManager.getImage( ids[ gd.getNextChoiceIndex() ] );
proposedLabels = WindowManager.getImage( ids[ gd.getNextChoiceIndex() ] );

calculatePixelError = gd.getNextBoolean();
calculateWarpingError = gd.getNextBoolean();
		
threshold = ( double )gd.getNextNumber();

IJ.log("---");
IJ.log("Evaluating segmentation...");
IJ.log("  Original labels: " + originalLabels.getTitle());
IJ.log("  Proposed labels: " + proposedLabels.getTitle());

// Calculate segmentation error
if( calculateWarpingError )
{
	IJ.log("Calculating warping error...");
	warpingError = WekaSegmentation.warpingError( originalLabels, proposedLabels, null, threshold );
	IJ.log("  Warping error = " + warpingError);
}

if( calculatePixelError )
{
	IJ.log("Calculating pixel error...");
	pixelError = WekaSegmentation.pixelError( originalLabels, proposedLabels, threshold );
	IJ.log("  Pixel error = " + pixelError);
}
</source>

If you run it, the following dialog will pop up:

[[Image:Challenge-segmentation-metrics-script.png]]

Here you can select among the open images which ones are the original and the proposed labels, along with the specific metrics you want to apply and the threshold to binarize the labels. 

After clicking OK the metrics will applied and the results will be shown in the Log window:

[[Image:Challenge-script-log-window.png]]

==Organizers==
* [[User:Iarganda | Ignacio Arganda-Carreras]] (Howard Hughes Medical Institute, Department of Brain and Cognitive Sciences, Massachusetts Institute of Technology, Cambridge, MA, USA)
* [http://hebb.mit.edu/people/seung/ Sebastian Seung] (Howard Hughes Medical Institute, Department of Brain and Cognitive Sciences, Massachusetts Institute of Technology, Cambridge, MA, USA)
* [http://albert.rierol.net/ Albert Cardona] (Institute of Neuroinformatics, Uni/ETH Zurich, Switzerland)
* [[User:Schindelin | Johannes Schindelin]] (University of Wisconsin, WI, USA)

[[Category:Segmentation]]
