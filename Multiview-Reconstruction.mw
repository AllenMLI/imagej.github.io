{{Infobox Plugin
| name                   = Reconstruction of Multiview Microscopy Data
| software               = ImageJ
| author                 = Stephan Preibisch
| maintainer             = Stephan Preibisch
| filename               = SPIM_Registration.jar
| released               = Juli 2014
| latest version         = Juli 2014
| category               = [[:Category:Registration|SPIM Registration]]
| website                = [http://fly.mpi-cbg.de/preibisch Stephan Preibisch's homepage]
}}

== Introduction & Overview ==

The '''Multiview Reconstruction''' software package enables users to ''register, fuse, deconvolve and view'' multiview microscopy images. The software is designed for lightsheet fluorescence microscopy (LSFM, see box for an overview), but is applicable to any form of three or higher dimensional imaging modalities like confocal timeseries or multicolor stacks.

Interactive viewing and annotation of the data is provided by integration with Tobias Pietzsch's [[BigDataViewer]]. Both projects share the same XML data model to describe the multiview datasets.

=== History ===

This software package is the successor to the [[SPIM_Registration]] package. While the SPIM Registration will continue to live within Fiji for the time being, we will mostly offer support only for this new software package. It has all the functionality the SPIM Registration offered, but is much more flexible and supports many more types of registration, fusion and data handling.

=== Examples ===

Two examples of multiview datasets reconstructed with this software package are shown as YouTube videos below. Both datasets were registered using the bead-based registration ([http://www.nature.com/nmeth/journal/v7/n6/full/nmeth0610-418.html ''Nature Methods'', '''7'''(6):418-419]) and the Multiview Deconvolution ([http://www.nature.com/nmeth/journal/v11/n6/full/nmeth.2929.html ''Nature Methods'', '''11'''(6):645-648]), which are part of this software package. Please check out the Citation section for information on how to cite this software package.

The first video shows a developing ''Drosophila'' embryo expressing His-YFP in all cells. The entire embryogenesis was acquired using the Zeiss Demonstrator B. The top row shows the multiview deconvolution of this seven-view dataset, the lower row the content-based fusion.

{| class="infobox" cellspacing="5" style="width: 25em; font-size: 90%; text-align: left; float: right; border: 1px dashed #a0a0a0;"
! colspan="2" style="font-size: 130%;" | Lightsheet microscopy
|-
|Lightsheet fluorescence microscopy entered the world of modern biology in 2004 when '''Selective Plane Illumination Microscopy''' ([http://www.sciencemag.org/content/305/5686/1007 '''SPIM''']) was published. It allows ''in toto'' imaging of large specimens by acquiring image stacks from multiple angles with high spatial and temporal resolution. Many impressive variations and extensions have been published, some of them using new variations or entirely new naming schemes:
* OpenSPIM
* Digital scanned laser light-sheet fluorescence microscopy (DSLM)
* DSLM and structured illumination (DSLM-SI)
* Two-photon versions of SPIM and DSLM (MuVi-SPIM)
* Bessel-Beam illumination and DSLM
* Ultramicroscopy
* Orthogonal-plane fluorescence optical sectioning microscopy (OPFOS)
* Multidirectional selective plane illumination microscopy (mSPIM)
* Thin-sheet laser imaging microscopy (TSLIM)
* ...
During the 2012 Lightsheet fluorescence microscopy meeting in Dublin, organized by Emmanuel Reynaud, it was voted to summarize most of these developments under the name of '''Lightsheet fluorescence microscopy (LSFM)'''.
|}

<include iframe title="YouTube video player" width="420" height="315" src="http:////www.youtube.com/embed/NJHoP8RBIaw" frameborder="0" allowfullscreen></include>

The second video shows a fixed ''C. elegans'' larvae in L1 stage expressing Lamin-GFP and stained with Hoechst. The four-view dataset was acquired using the Zeiss Lightsheet Z.1 microscope. It illustrates the increase in resolution that can be achieved through multiview imaging combined with multiview deconvolution. The top row shows one of the four input views, the bottom row the result of the multiview deconvolution.

<include iframe title="YouTube video player" width="420" height="315" src="http:////www.youtube.com/embed/16gq2WUm-50" frameborder="0" allowfullscreen></include>

== Detailed Tutorials ==

Using this software package consists of several steps. Please note that this software is more flexible and that this order is just a suggestion of how to use it in a more-or-less standard case.

* '''[[MVR-DefineDataset|Dataset Definition]]'''
** The first step in every reconstruction is to define the dataset and thereby create the XML file. This has to be done only once, all consecutive steps are based on this definition, i.e. the XML file.

* '''[[MVR-InterestPointDetection|Detect Interest Points]]'''
** Based on an existing dataset definition (XML file), the first step is typically to find interest points in the images that will be used for registration. In this step it is possible to look for multiple types of detections, e.g. fluorescent beads, nuclei or membrane markers. All of them can be stored in parallel.

* '''[[MVR-InterestPointRegistration|Interest Point Registration]]'''
** Once interest points are detected, they can be used to register/align multiple views over time. The registration module supports:
*** ''Rotation-invariant matching'' using fluorescent beads (no prior transformation knowledge necessary)
*** ''Translation-invariant matching'' using any kind of detections (an approximate knowledge of the rotation is required, e.g. 45 degrees around the x-axis). Check the Tools-section for how to provide approximate transformations.
*** ''Precise matching'' using the Iterative-Closest Point (ICP) algorithm (the dataset needs to be aligned using for example any of the above methods).

== Downloading example dataset ==

There is a 7-angle SPIM dataset of ''Drosophila'' available for download [http://fly.mpi-cbg.de/preibisch/nm/HisYFP-SPIM.zip here]. Other datasets can be provided upon request.

== System requirements ==

Multi-view SPIM datasets are typically rather large, therefore it is recommended to use the registration plugin on a computer with a lot of RAM. The minimal requirement for the example dataset is '''at least 4Gb''' of memory however we recommend an '''16Gb+''' system, ideally at least '''64Gb''' and a CUDA capable graphics card. You may need to increase the Fiji memory limit by going to Edit->Options->Memory & Threads.
