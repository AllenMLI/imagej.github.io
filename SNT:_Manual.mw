==Main==
This tab aggregated widgets for tracing and frequent operations.

===Cursor Auto-snapping===
If active (the default) the cursor snaps to the brightest voxel in its vicinity. To accomplish this, SNT takes the cuboid of the specified dimensions (in pixels) centered on the current cursor position and searches quickly for local maxima in that neighborhood, moving the cursor to that position. The Z-plane in which the maximum was found is automatically selected if the "Z" parameter is greater than 0. Noteworthy:
* This feature assumes the signal is brighter than the background as typically found in fluorescent images.
* If multiple maxima exist (e.g., when the signal is saturated), it snaps to their centroid.[[File:cursor-snap.png|right|border]]
* To streamline the computation:  XYZ dimensions are constrained to even numbers and limited range.
* Snapping occurs in 2D (i.e., in the active plane) if Z=0.
* The XZ, ZY views are synchronized when 3D snapping is active (i.e., Z>0).

===Auto-tracing===
By default, SNT uses the [https://en.wikipedia.org/wiki/A*_search_algorithm A* search algorithm] to automatically find paths between two manually selected points. To manually place each node in a path, toggle this feature off. 
[[File:SNT-auto-tracing.png|right|thumb|Auto-tracing dialog]]
A quick way to improve the quality and efficiency of the search is to enable "Hessian-based analysis", which filters the image for tube-like structures. Two parameters need to be chosen:
* '''Sigma''' - Controls the spatial scale of the filtering. A  lower value of sigma will capture small structural details but is more sensitive to noise. A larger value of sigma will capture larger scale structure, but may lose some local shape characteristics. It is generally advisable to pick a value which reflects the average radius of the structures you are tracing.
* '''Maximum''' - The maximum pixel intensity on the ''Tubeness'' image beyond which the cost function for A* search is minimized.
These parameters may be chosen manually (if you already have statistics on the image) or visually (generally more intuitive). If you choose "Visually", the dialog will prompt you to click on a representative portion of the image which has meaningful structure. Once you click there, a palette will be generated showing increasing values of sigma applied to that chunk of the image.
[[File:Sigma-palette-location.png|center|thumb|400px|Representative region in image]]
<div align="center">
<ul> 
<li style="display:inline-block;"> [[Image:Sigma-palette-max.png|none|thumb|250px|Adjusted Max - maximum]] </li>
<li style="display:inline-block;"> [[Image:Sigma-palette-mid.png|none|thumb|250px|Adjusted Max - default]] </li>
<li style="display:inline-block;"> [[Image:Sigma-palette-min.png|none|thumb|250px|Adjusted Max - minimum]] </li>
</ul>
</div>
Experiment with moving the "Adjusted Max" slider to find a setting which captures the important structures you are interested in, while taking care to avoid over or under-saturation. In the former case, the search might consider pixels outside of the tubular structures. In the latter case, the search might take longer or not finish at all, since each pixel will carry greater cost than it should. It is usually safe to choose a value somewhere near the median. Once you have chosen this value, click on the square in the palette with the sigma that best fits your application (its border will turn green) then press "Apply". The parameters will be transferred to the interface and a Gaussian convolution will be run on the image, which may take some time depending on its size. Once it's done, path-finding will occur on the Hessian image. To display this image during tracing, go to {{bc | View | Show Hessian (Tubeness) Image}}
[[File:original-hessian-side-by-side.png|center|thumb|500px|Original (left) and Hessian (right)]]

===Tracing on Filtered Image===
SNT's "Hessian-based analysis" option for filtering for tube-like structures is a quick way of improving the efficiency and accuracy of path-finding. However, if your data requires tailored pre-processing, you may also choose to trace on a user-specified filtered image. For example, one might use Frangi et al.'s method to enhance vessel-like structures.
====A Single Image====
To process a single image, load your image ("test.tif", say) into Fiji and select {{bc | Process | Filters | Frangi Vesselness}}.  (There is more information about this plugin [[Frangi|on its page]].)  By way of example, let's say that you select two scales, from twice the x voxel separation to five times that value. We apply a Gaussian convolution at each scale. Assuming your image has isotropic resolution, the parameters would look like this.
[[File:frangi-parameters.png|center|thumb|Frangi parameters]]
Save the result by doing {{bc | File | Save As}} with the same extension as the original image ("test-filtered.tif", for example). Then, with SNT open, go to the main dialog tab and look for "Tracing on Filtered Image". Click "Browse" to load the filtered image, select "SNT" for the parser and press "Load". Finally, toggle the "Trace on filtered Image" checkbox. Now the path-finding will occur on the filtered image.
[[File:filtered-image-load.png|left|thumb]]
[[File:filtered-image-toggle.png|center|thumb]]
To display the image, from the SNT dialog go to {{bc | View | Show Filtered Image}}
[[File:display-filtered-image.png|center|thumb|400px|Side-by-side original and filtered images]]

====Preprocess Multiple Images====

The easiest way to preprocess multiple images is to record a macro for processing a single images, and then wrap it it in a loop to iterate over all the files in a directory.  For example:

<source lang="java">
d = getDirectory("Select a directory");
files = getFileList(d);

extension = ".tif";

for( i = 0; i < files.length; ++i ) {
    filename = files[i];
    if( endsWith(filename,extension) ) {
        l = lengthOf(filename);
        el = lengthOf(extension);
        basename = substring(filename,0,l-el);
        expected_window_name = "vesselness of "+filename;
        output_filename = d + File.separator + basename + ".tubes.tif";
        open(filename);
        run("Frangi Vesselness (imglib, experimental)", "number=1 minimum=0.288387 maximum=0.288387");
        selectWindow(expected_window_name);
        saveAs("Tiff", output_filename);
    }
}
</source>


===Filters for Visibility of Paths===


===Default Path Colors===


==Options==
This tab aggregated widgets for advanced settings.

===Data Source===

===Views===

===Temporary Paths===

===UI Interaction===

===Misc===
