{{Infobox
| name                  = BigWarp                                                                                                                                            
| software              = Fiji
| author                = {{Person|Bogovic}}
| maintainer            = {{Person|Bogovic}}
| source                = {{GitHub|org=saalfeldlab|repo=bigwarp}}
| latest version        = 2.0.1
| status                = stable
| category              = [[:Category:Plugins|Plugins]], [[:Category:Visualization|Visualization]], [[:Category:Transform|Transform]]
}}

== Description ==
Bigwarp is a tool for manual, interactive, landmark-based deformable image alignment. 
It uses the [[BigDataViewer]] for visualization and navigation, and uses a
[[wikipedia:Thin_plate_spline|Thin Plate Spline]] implemented
{{GitHub|org=saalfeldlab|repo=bigwarp|label=in Java}}
to build a deformation from point correspondences.

The interface enables landmark pair placement and displays the effects 
of the warp on-the-fly.

== Installation ==
Bigwarp comes with Fiji.
You can access it via ''Plugins {{arrow}} BigDataViewer {{arrow}} Big Warp'', or by modifying {{GitHub|org=saalfeldlab|repo=bigwarp|path=src/main/resources/scripts/bigwarp_fiji_demo.bsh|label=this example script}}.

== Usage ==

Open two images in ImageJ, one ''moving'' and the other ''target'' and navigate to ''Plugins {{arrow}} BigDataViewer {{arrow}} Big Warp.'' A dialog will appear prompting selection of the moving and target images.

=== Getting Help ===
Press {{key press|F1}} at any time to open a help page with a listing of navigation and editing commands. 

=== Landmark point placement ===

Landmark placements is done in ''Landmark mode'' which you enter by holding {{key press|Spacebar}}.
Users place pairs of corresponding points on  

The following table shows the available landmark placement commands and keystrokes. 
{| border="1" style="border-collapse:collapse;"
| style="padding: 5px;" | hold {{key press|Spacebar}}
| style="padding: 5px;" | Toggle ''Landmark mode'' 
|-
| style="padding: 5px;" | <''Landmark mode on''>+{{key press|left-click}}
| style="padding: 5px;" | Clicking while in landmark mode adds a landmark point. 
|-
| style="padding: 5px;" | <''Landmark mode on''>+{{key press|left-click}}+{{key press|drag}}
| style="padding: 5px;" | Clicking an existing point and dragging changes it's position. 
|-
| style="padding: 5px;" | <''Landmark mode on''>+{{key press|Shift}}+{{key press|left-click}}+{{key press|drag}}
| style="padding: 5px;" | "Move" a point.  The initial click places a
landmark point for the moving image.  The release places a landmark
point for the target image.
|}

=== Navigation and Visualization ===

Bigwarp inherits many image [[BigDataViewer#Basic_Navigation|navigation]], [[BigDataViewer#Adjusting_Brightness_and_Color|visualization]], and [[BigDataViewer#Grouping_Sources|grouping]] features with BigDataViewer, the details of which can be found on the [[BigDataViewer|BigDataViewer]] page
or on the help page.  BigWarp specific features are documented below.

The following table shows the available navigation commands using the mouse:

{| border="1" style="border-collapse:collapse;"
| style="padding: 5px;" | {{key press|Q}}
| style="padding: 5px;" | Align the non-active viewer with the active viewer. 
|-
| style="padding: 5px;" | {{key press|W}}
| style="padding: 5px;" | Align the active viewer with the non-active viewer.
|-
| style="padding: 5px;" | {{key press|R}}
| style="padding: 5px;" | Resets the active viewer.
|-
| style="padding: 5px;" | {{key press|U}}
| style="padding: 5px;" | Show warp visualization / grid dialog.
|-
| style="padding: 5px;" | {{key press|F6}}
| style="padding: 5px;" | Show moving image panel Visibility & and Grouping dialog.
|-
| style="padding: 5px;" | {{key press|F7}}
| style="padding: 5px;" | Show target image panel Visibility & and Grouping dialog.
|}
