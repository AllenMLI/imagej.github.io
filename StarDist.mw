{{Infobox
| name                   = StarDist
| software                   = ImageJ
| update site          = StarDist
| author                 = Uwe Schmidt, Martin Weigert
| maintainer           = Uwe Schmidt, Martin Weigert
| source                 = {{GitHub|org=mpicbg-csbd|repo=stardist-imagej}}
| website               = https://github.com/mpicbg-csbd/stardist
}}
[[File: StarDist_logo.jpg|right|128px]]
== Overview == 

This is the ImageJ/Fiji plugin for [https://github.com/mpicbg-csbd/stardist StarDist], a cell/nuclei detection method for microscopy images with star-convex shape priors.
The plugin can be used to apply already trained models to new images. 
See the [https://github.com/mpicbg-csbd/stardist main repository] for links to our publications and the full-featured Python package that can also be used to train new models. If you encounter problems with the plugin, please file an issue [https://github.com/mpicbg-csbd/stardist-imagej here].

''The plugin currently only supports 2D image and time lapse data. If you have 3D data, please use our [https://github.com/mpicbg-csbd/stardist python library].''

[[File: Stardist_screenshot_small.jpg|640px]]

== Installation ==

# Start Fiji (or download and install it from [https://fiji.sc here] first).
# Select <code>Help > Update...</code> from the menu bar.
# Click on the button <code>Manage update sites</code>.
# Scroll down the list and tick the checkboxes for update sites <code>CSBDeep</code> and <code>StarDist</code>, then click the <code>Close</code> button.<br />(If <code>StarDist</code> is missing, click <code>Update URLs</code> to refresh the list of update sites.)<br />[[File: StarDist_update_site2.png|320px]][[File: StarDist_update_site.png|320px]]
# Click on <code>Apply changes</code> to install the plugin.
# Restart Fiji.

== Usage ==

Open the image that should be segmented. Note, that currently only 2D and 2D+time images are supported. Start the plugin from <code>Plugins > StarDist > StarDist 2D</code>. The following parameters can be set:

{| class="wikitable"
|-
| [[File: StarDist_usage_param_pred.jpg|400px]]
| Select a neural network model from the dropdown list, which can be one of the following: <ul><li>''A built-in model''. We currently provide <code>Versatile...</code> and <code>DSB 2018...</code> that were both trained on a subset of the [https://data.broadinstitute.org/bbbc/BBBC038/ DSB 2018 nuclei segmentation challenge dataset].<li>''A custom user-trained model'' ([https://github.com/mpicbg-csbd/stardist via the training code]) that has been exported as a zip file and can be loaded from a file or URL (see ''Advanced options'' below).</ul> If necessary, one can change/disable the percentile-based input image normalization.
|-
| [[File: StarDist_usage_param_nms.jpg|400px]]
| Adjust the NMS (non-maximum suppression) postprocessing parameters: <ul> <li> ''Probability/Score Threshold'' - higher values lead to fewer segmented objects, but will likely avoid false positives. <li> ''Overlap Threshold'' - higher values allow segmented objects to overlap substantially.</ul> 
If in doubt, load the default NMS parameters of the selected built-in model (see below).

The segmented objects can be returned as a ''Label Image'' or in the ''ROI Manager'' (or both).
|- 
| [[File: StarDist_usage_param_advanced.jpg|400px]]
| Advanced options: <ul><li> Specify a user-trained model file or URL <li>  Increase the number of tiles (in case of GPU memory limitations/errors, i.e. for larger images) <li> Load default NMS parameters for the selected built-in model. <li> Restore all default parameters.</ul>
|-
|}
Example of running the plugin, showing the returned label image and ROIs overlaid on the input image:
 
[[File: StarDist_usage_result.jpg|512px]]

== Citation ==

Please cite the paper if you are using the plugin in your research:

* Uwe Schmidt, Martin Weigert, Coleman Broaddus, and Gene Myers. [https://arxiv.org/abs/1806.03535 Cell Detection with Star-convex Polygons]. International Conference on Medical Image Computing and Computer-Assisted Intervention (MICCAI), Granada, Spain, September 2018.

[[Category:Plugins]] [[Category:Segmentation]] [[Category:Deep Learning]]
