(Return to the main [[SNT]] page)
<div class="toclimit-3">

=Tracing=
These instructions assume that you have done the preliminary steps described on the [[Simple Neurite Tracer: Basic Instructions]] page including starting up the plugin, enabling A* search, and turning on "Hessian-based analysis".

==I. Picking a Start Point==
[[Image:Snt-cropped-before-starting-2.png|right|thumb|400px|Choosing a starting point]]
You may notice that, by default, the cursor snaps to the local maximum intensity pixel in its vicinity. To accomplish this, it takes the cuboid of the specified dimensions (in pixels) centered on the current cursor position and searches quickly for the brightest voxel(s) in that neighborhood, moving the cursor to that position. If the "Z" parameter is greater than 0, it moves to the z-plane in which that maximum was found.  
Several things should be noted:
* It assumes signal is brighter than background as typically found in fluorescent images.
[[File:cursor-snap.png|right|border]]
* If multiple maxima exist (e.g., when signal is saturated), it snaps to their centroid.
* To streamline the computation:  XYZ dimensions are constrained to even numbers and limited range.
* Snapping occurs in 2D if Z=0.
* The XZ, ZY views are synchronized when 3D snapping is active (i.e., Z>0).

If you prefer to manually control the placement of nodes, feel free to disable this feature. Now, to begin tracing, move through the image stack to find the start point of a path then click there with the left mouse button.

==II. Picking a Subsequent Point==
[[Image:Snt-cropped-after-starting-2.png|right|thumb|400px|First point of a path selected]]
[[Image:Snt-cropped-mid-tracing-2.png|right|thumb|400px|A* search animated progress]]
A small circle should appear, highlighting the start of the path. Move through the stack to find a subsequent point further along the same structure to be traced (neuron, blood vessel, etc.), and click there.

If a path between the two points cannot be found immediately, you may see the animated progress of the search. You can scroll through the stack while such a search progresses: If it appears to not be making good progress, it's probably best to press the "Cancel/Esc" button (shortcut: {{key|C}}/{{key|Esc}}) and pick a point closer to the start point.
{{Tip| id = external-traces|tip = Increase''Z'' in the ''Cursor Auto-snapping'' panel for automated Z-navigation on signal mouseover.}}

==III. Confirming the Temporary Segment==
Once the search has reached the target point, the path is shown in cyan (to indicate that this is still a temporary path) and you are asked to confirm (by clicking "Yes" or pressing  {{key|Y}}) that this path is following the route through the image that you expect. If it is not, then click "No" {{key|N}} and you'll go back to the [[#II. Picking a Subsequent Point|previous step]]. Assuming you confirmed the path, the confirmed path will appear in red. Now you are essentially back at [[#II. Picking a Subsequent Point|step II]]. Normally you will go on to pick further points along the structure. However, if you have finished with that path, click "Finish Path" {{key|F}} and you will go back to [[#I. Picking a Start Point|step I]]. If you completed that path it would be shown in magenta.
<div align="center">
<ul> 
<li style="display:inline-block;"> [[Image:Snt-cropped-confirmation-2.png|none|thumb|250px|A* search completed]] </li>
<li style="display:inline-block;"> [[Image:Snt-cropped-confirmed-2.png|none|thumb|250px|A confirmed segment]] </li>
<li style="display:inline-block;"> [[Image:Snt-cropped-completed-path-2.png|none|thumb|250px|A completeted path]] </li>
</ul>
</div>


==Branching: Start a path on an existing path==

Before you pick a start point for your second path, the tracer will look like this: (We''ve zoomed in on the region of interest)
[[Image:Snt-sb-before-selecting-2.png|center]]

===1. Select the path to branch off===
To select the path you want to branch off from, you can either select it in the path manager, or press {{key|G}} while your mouse pointer is over the path.  When the path is first selected, it will be shown in the default green color, as below:
[[Image:Snt-sb-before-starting-path-2.png|center]]

===2. Click while holding the branch modifier to start the branch===
To force the start of the new path to be a branch off the selected path, hold down the {{key|Alt|Shift}} keys while you move the mouse to find the right point under the red cross-hairs.  Then click with the left mouse button - {{key|Alt|Shift}} should still be held down.  Finally release the keys. Once you've created a fork point, it looks like this: (We''ve zoomed in further on the fork point)
[[Image:Snt-sb-started-branch-2.png|center]]

===3. Continue adding to the path as normal===
From this point on, you can carry on adding to the path as above, e.g. create a temporary path:
[[Image:Snt-sb-temporary-path-2.png|center]]
... and confirm it:
[[Image:Snt-sb-confirmed-path-2.png|center]]
When you decide to complete the path you should see in the path manager that it has been recorded as starting on the existing path:
[[Image:Snt-sb-completed-branch-2.png|center]]

==Joining: End a path on an existing path==
Supposing you want the end of a path that you're tracing to join onto an existing path, you just use the same modifier key when selecting the end point of the last part of the path. To go into that in more detail, if you're half way through tracing a path like this:
[[Image:Snt-ej-cropped-half-finished-2.png|center]]

... and you want the final part of that path to join up with the existing path running from the top-left to top-right of the image. First, select that path in the path list, so that it turns green:
[[Image:Snt-ej-cropped-selected-destination-path-2.png|center]]

Now hold down {{key|Alt|Shift}} to restrict the end point to be a "join" on that existing path. Click (while still holding down the modifier keys) to start the search for that end point and make it join the existing path. If the search can find a path to the end point, the result should look like this:
[[Image:Snt-ej-cropped-end-join-created-2.png|center]]

If you're happy with that, confirming the temporary path will automatically complete the whole path, since if you're creating an end join there cannot be any more to the path. The result will look like this:
[[Image:Snt-ej-cropped-path-completed-2.png|center]]

Note that the path list incidates that this new path (1) ends on the existing one (0).
