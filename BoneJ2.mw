{{Infobox
| name                   = BoneJ experimental
| software               = ImageJ
| logo                     = [[File:Bonej-icon.png|96px]]
| author                 = {{Person|Michaeldoube}}, {{Person|Rdom}}, {{Person|Alessandro Felder}}
| maintainer             = {{Person|Michaeldoube}}, {{Person|Rdom}}, {{Person|Alessandro Felder}}
| source                 = {{GitHub|org=bonej-org|repo=BoneJ2}}
| released               = Dec 11<sup>th</sup>, 2017
| latest version         = cuneiform-experimental, Jun 28<sup>th</sup>, 2018
| status                 = Active, Experimental
}}

There's a new experimental, modernized BoneJ available through the ImageJ [http://imagej.net/Updater updater]. Its update site is called [http://sites.imagej.net/BoneJ BoneJ experimental].

This version works with the latest Fiji, and complies with the modern ImageJ [[architecture]]. Most plug-ins also now support hyperstacks, i.e. images with multiple channels or time frames.

As the code is still experimental, it's still likely to change a lot. This means any scripts using the code might break, results can change, and plug-ins gain and lose parameters. Tools marked with ''WIP'' (work in progress), are more likely to undergo large changes. 

Below is the documentation for the plug-ins included in BoneJ experimental.

== Installation ==
[[File:Install-bonej.png|400 px|Installation steps]]
# [http://imagej.net/Downloads Download] the latest version of Fiji for your operating system
# Launch Fiji
# Select in the menu ''Help'' &gt; ''Update...''
# Click ''Manage update sites``
# Check ''BoneJ experimental``
# Click ''Close''
# Click ''Apply changes''
After the downloads have finished, close and restart Fiji.

== Analyse skeleton ==
Menu path ''Plugins > BoneJ > Analyse skeleton''.

This plug-in simply includes [[AnalyzeSkeleton]] in BoneJ. It adds some additional validation to check that your image suits the tool. It also skeletonizes your image by calling [[Skeletonize3D]] if needed.

==== Suitable images ====
The input image must be 2D or 3D, 8-bit and binary. Hyperstacks are not supported.

==== Differences to BoneJ1 ====
Calls the latest version of [[AnalyzeSkeleton]].

== Local thickness ==
Menu path ''Plugins >BoneJ > Thickness''.

This plug-in includes [[Local_Thickness]] in BoneJ, and provides some additional options &amp; results. Local thickness measures ''the diameter of the largest sphere that fits inside the object and contains the point'' for each point i.e. foreground voxel in an image. The plug-in calculates mean and standard deviation of the trabecular thickness (Tb.Th) or trabecular spacing (Tb.Sp) directly from pixel values in the resulting thickness map. Foreground voxels are considered trabeculae, and background voxels are the spacing. Processing time is heavily dependent on feature size (in pixels); large features can take a very long time to process.

==== Suitable images ====
The input image must be 3D, 8-bit and binary. Hyperstacks are not supported.

==== Parameters ====
* '''Calculate''': chooses which thickness maps to calculate - trabecular thickness, trabecular spacing, or both. In order to calculate trabecular spacing, the image voxels are inverted.
* '''Show thickness maps''': display the calculated thickness maps or not.
* '''Mask thickness maps''': remove artifacts from the thickness maps. Artifacts are foreground voxels not present in the original image.
* '''Crop to ROI manager''': create thickness maps only from the area bounded by the ROIs in the ROI manager. Checking this option requires you've added ROIs to the ROI manager.

==== Results ====
* The mean and standard deviation for each thickness map calculated.
* Displays thickness map images if ''Show thickness maps'' was selected. 

==== Differences to BoneJ1 ====
* Calls the latest version of [[Local_Thickness]].
* Thickness values for background voxels are marked ''NaN'' instead of ''0''.

==== Related publications ====
Dougherty R, Kunzelmann K (2007), ''Computing local thickness of 3D structures with ImageJ'', Microsc. Microanal., 13: 1678-1679, [http://dx.doi.org/10.1017/S1431927607074430 doi:10.1017/S1431927607074430]
Hildebrand T, RÃ¼egsegger P (1997), ''A new method for the model-independent assessment of thickness in three-dimensional images'', J. Microsc., 185: 67-75, [http://dx.doi.org/10.1046/j.1365-2818.1997.1340694.x doi:10.1046/j.1365-2818.1997.1340694.x]

== Skeletonise ==
Menu path ''Plugins > BoneJ > Skeletonise''.

This plug-in simply includes [[Skeletonize3D]] in BoneJ. It adds some additional validation to check that your image suits the tool.

==== Suitable images ====
The input image must be 2D or 3D, 8-bit and binary. Hyperstacks are not supported.

==== Differences to BoneJ1 ====
Calls the latest version of [[Skeletonize3D]].

== Where is my favorite plug-in? ==
We've decided to remove some plug-ins from BoneJ (note that some have just not been documented here yet). These include ''Interpolate ROIs'', ''Neck shaft angle'', ''Optimise threshold'', ''Plateness'' and ''Structure model index'' have been discontinued. ''Dilate'' and ''Erode'' come pre-packaged with ImageJ, so there's no need to include them.

Support for ''Kontron IMG'', ''Scanco ISQ'' and ''Stratec pQCT'' file formats have been moved to [[SCIFIO]]. Just run _Edit  &gt; Options  &gt; ImageJ2_, and check ''Use SCIFIO when opening files''. When the option is enabled, the files can be open from `File > Open` or dragging and dropping them like any other format. 

''Distribution analysis'' and other pQCT related tools can now be downloaded independently from the [[PQCT]] update site.
